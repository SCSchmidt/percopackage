---
title: "Percolation Analysis â€“ Building a Package"
author:
  -Maddison, Simon
  
  -Schmidt, Sophie C.

date: "`r format(Sys.time(), '%d %B, %Y')`"
output: 
    bookdown::word_document2:
      fig_caption: yes
csl: RGK_archaeology_DGUF.csl
bibliography: sitedefinition.bib
abstract: |
  The aim here is to create functions for percolation in R.
keywords: |
  spatial analysis; percolation; clustering algorithm
---

```{r, setup, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  warning = FALSE,
  message = FALSE,
  echo = FALSE,
  cache = TRUE,
  comment = "#>",
  fig.path = "../figures/"
)


library(percopackage) # Or use devtools::load_all('.', quiet = T) if your code is in script files, rather than as functions in the `/R` diretory
```

# Data is in source_data

Bsp Datensatz hier sei sNL

```{r include=FALSE}

## run analysis and save results of every run.

### input in source _file.txt

#source_file,map_name,shape_file_name,DTM_file_name
#BefundesBZ-minimal.csv, late bronze age features,alle_Schnitt-Fundstellen.shp,


### input in radius_values.txt (stays)

#upper_radius,lower_radius,step_value,limit,upper_threshold,lower_threshold,radius_unit
#500,2,1, 1000,0,0,1

library(maptools)
library(rgdal)
library(stringr)
library(igraph)

source("R/create_nodes_list_d.v4.7.R")
percolateNodes()

source("R/clustering_script.v3.6.R")
percolate()

#source("R/mapping_clusters.v4.12.R")
#mapClusters()


library(calibrate)
library(Hmisc)

source("R/cluster_frequency_script.v2.17.R")
clusterFrequency()


```




# Acknowledgements

<!-- The following line inserts a page break when the output is MS Word. For page breaks in PDF, use \newpage on its own line.  -->
##### pagebreak

# References 
<!-- The following line ensures the references appear here for the MS Word or HTML output files, rather than right at the end of the document (this will not work for PDF files):  -->
<div id="refs"></div>

##### pagebreak

### Colophon

This report was generated on `r Sys.time()` using the following computational environment and dependencies: 

```{r colophon, cache = FALSE}
# which R packages and versions?
devtools::session_info()
```

